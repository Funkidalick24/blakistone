<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' http://localhost:3000 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; img-src 'self' data:; font-src 'self' https://cdnjs.cloudflare.com; connect-src 'self' http://localhost:3000;" />
    <title>Blackistone Medical Centre App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  </head>
  <body>
    <!-- Login Screen -->
    <div id="login-screen" class="screen active" role="main" aria-labelledby="login-heading">
      <div class="login-container">
        <div class="login-header">
          <h1 id="login-heading"><i class="fas fa-hospital"></i> Blackistone Medical Centre</h1>
          <p>Clinic Management System</p>
        </div>
        <form id="login-form" class="login-form" role="form" aria-labelledby="login-heading">
          <div class="form-group">
            <label for="username">Username</label>
            <input type="text" id="username" required aria-describedby="username-help" autocomplete="username">
            <span id="username-help" class="sr-only">Enter your username to access the system</span>
          </div>
          <div class="form-group">
            <label for="password">Password</label>
            <input type="password" id="password" required aria-describedby="password-help" autocomplete="current-password">
            <span id="password-help" class="sr-only">Enter your password to access the system</span>
          </div>
          <button type="submit" class="btn btn-primary" aria-describedby="login-button-help">Login</button>
          <span id="login-button-help" class="sr-only">Click to log in to the clinic management system</span>
        </form>
        <div id="login-error" class="error-message" role="alert" aria-live="polite"></div>
      </div>
    </div>

    <!-- Main App Screen -->
    <div id="main-screen" class="screen">
      <!-- Header -->
      <header class="app-header">
        <div class="header-left">
          <button id="sidebar-toggle" class="btn btn-secondary sidebar-toggle" aria-label="Toggle sidebar">
            <i class="fas fa-bars"></i>
          </button>
          <h1><i class="fas fa-hospital"></i> Blackistone Medical Centre</h1>
        </div>
        <div class="header-right">
          <span id="current-user"></span>
          <button id="logout-btn" class="btn btn-secondary">Logout</button>
        </div>
      </header>

      <!-- Layout Container -->
      <div class="app-layout">
        <!-- Sidebar Navigation -->
        <aside class="app-sidebar" role="navigation" aria-label="Main navigation">
          <nav class="app-nav">
            <button class="nav-btn active" data-screen="dashboard" aria-describedby="dashboard-help">
              <i class="fas fa-tachometer-alt" aria-hidden="true"></i>
              <span>Dashboard</span>
            </button>
            <span id="dashboard-help" class="sr-only">View clinic overview, statistics, and key metrics</span>

            <button class="nav-btn" data-screen="patients" aria-describedby="patients-help">
              <i class="fas fa-users" aria-hidden="true"></i>
              <span>Patients</span>
            </button>
            <span id="patients-help" class="sr-only">Manage patient records, search, and perform bulk operations</span>

            <button class="nav-btn" data-screen="appointments" aria-describedby="appointments-help">
              <i class="fas fa-calendar-alt" aria-hidden="true"></i>
              <span>Appointments</span>
            </button>
            <span id="appointments-help" class="sr-only">Schedule and manage patient appointments</span>

            <button class="nav-btn" data-screen="accounting" aria-describedby="accounting-help">
              <i class="fas fa-dollar-sign" aria-hidden="true"></i>
              <span>Accounting</span>
            </button>
            <span id="accounting-help" class="sr-only">Manage invoices, expenses, and financial reports</span>

            <button class="nav-btn" data-screen="admin" aria-describedby="admin-help">
              <i class="fas fa-cog" aria-hidden="true"></i>
              <span>Admin</span>
            </button>
            <span id="admin-help" class="sr-only">System administration, user management, and settings</span>
          </nav>
        </aside>

        <!-- Main Content -->
        <main class="app-main" id="main-content" role="main">
        <!-- Dashboard -->
        <div id="dashboard-screen" class="content-screen active">
          <div class="dashboard-grid">
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-users"></i>
              </div>
              <div class="stat-content">
                <h3>Total Patients</h3>
                <div class="stat-value" id="total-patients">0</div>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-calendar-check"></i>
              </div>
              <div class="stat-content">
                <h3>Today's Appointments</h3>
                <div class="stat-value" id="today-appointments">0</div>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-file-invoice-dollar"></i>
              </div>
              <div class="stat-content">
                <h3>Pending Invoices</h3>
                <div class="stat-value" id="pending-invoices">0</div>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-chart-line"></i>
              </div>
              <div class="stat-content">
                <h3>Monthly Revenue</h3>
                <div class="stat-value" id="monthly-revenue">$0</div>
              </div>
            </div>
          </div>
          <div class="chart-container">
            <div class="chart-header">
              <h3><i class="fas fa-chart-bar"></i> Revenue Overview</h3>
            </div>
            <canvas id="revenue-chart"></canvas>
          </div>
        </div>

        <!-- Patients Screen -->
        <div id="patients-screen" class="content-screen">
          <div class="screen-header">
            <h2><i class="fas fa-users"></i> Patient Management</h2>
            <div class="screen-actions">
              <button id="add-patient-btn" class="btn btn-primary">
                  <i class="fas fa-user-plus"></i> Add Patient
                </button>
              <button id="bulk-actions-btn" class="btn btn-secondary" style="display: none;">
                <i class="fas fa-list-check"></i> Bulk Actions
              </button>
              <button id="advanced-search-btn" class="btn btn-secondary">
                <i class="fas fa-magnifying-glass-plus"></i> Advanced Search
              </button>
            </div>
          </div>

          <!-- Advanced Search Panel -->
          <div id="advanced-search-panel" class="advanced-search-panel" style="display: none;">
            <div class="search-filters-grid">
              <div class="filter-group">
                <label>Gender</label>
                <select id="patient-gender-filter">
                  <option value="">All Genders</option>
                  <option value="Male">Male</option>
                  <option value="Female">Female</option>
                  <option value="Other">Other</option>
                </select>
              </div>
              <div class="filter-group">
                <label>Smoking Status</label>
                <select id="patient-smoking-filter">
                  <option value="">All Smoking Status</option>
                  <option value="Never">Never</option>
                  <option value="Former">Former</option>
                  <option value="Current">Current</option>
                </select>
              </div>
              <div class="filter-group">
                <label>Insurance</label>
                <input type="text" id="patient-insurance-filter" placeholder="Insurance provider...">
              </div>
              <div class="filter-group">
                <label>Age Range</label>
                <div style="display: flex; gap: 0.5rem;">
                  <input type="number" id="age-min" placeholder="Min" style="width: 60px;">
                  <span>to</span>
                  <input type="number" id="age-max" placeholder="Max" style="width: 60px;">
                </div>
              </div>
              <div class="filter-group">
                <label>Chronic Conditions</label>
                <input type="text" id="chronic-conditions-filter" placeholder="e.g., Diabetes, Hypertension">
              </div>
              <div class="filter-group">
                <label>Last Visit</label>
                <select id="last-visit-filter">
                  <option value="">Any Time</option>
                  <option value="30">Last 30 days</option>
                  <option value="90">Last 3 months</option>
                  <option value="180">Last 6 months</option>
                  <option value="365">Last year</option>
                </select>
              </div>
            </div>
            <div class="search-actions">
              <button id="apply-filters-btn" class="btn btn-primary">Apply Filters</button>
              <button id="clear-filters-btn" class="btn btn-secondary">Clear All</button>
              <button id="save-search-btn" class="btn btn-secondary">Save Search</button>
            </div>
          </div>

          <!-- Quick Search Bar -->
          <div class="search-bar">
            <i class="fas fa-search"></i>
            <input type="text" id="patient-search" placeholder="Quick search by name, ID, phone, or email...">
            <button id="clear-search-btn" class="search-clear-btn" style="display: none;">Ã—</button>
          </div>

          <!-- Active Filters Display -->
          <div id="active-filters" class="active-filters" style="display: none;">
            <span class="filters-label">Active filters:</span>
            <div id="filter-tags" class="filter-tags"></div>
            <button id="clear-all-filters-btn" class="btn btn-sm">Clear All</button>
          </div>
          <!-- Bulk Selection Controls -->
          <div id="bulk-selection-controls" class="bulk-selection-controls" style="display: none;">
            <div class="bulk-selection-info">
              <span id="selected-count">0</span> patients selected
            </div>
            <div class="bulk-actions">
              <button id="bulk-export-btn" class="btn btn-secondary">
                <i class="fas fa-download"></i> Export
              </button>
              <button id="bulk-email-btn" class="btn btn-secondary">
                <i class="fas fa-envelope"></i> Send Email
              </button>
              <button id="bulk-print-btn" class="btn btn-secondary">
                <i class="fas fa-print"></i> Print Labels
              </button>
              <button id="bulk-delete-btn" class="btn btn-danger">
                <i class="fas fa-trash"></i> Delete Selected
              </button>
            </div>
          </div>

          <div class="data-table" role="table" aria-label="Patients table" aria-describedby="patients-table-description">
            <span id="patients-table-description" class="sr-only">Table showing patient records with options to select, view, edit, and delete patients</span>
            <table id="patients-table">
            <thead>
              <tr role="row">
                <th width="40" role="columnheader" aria-label="Select all patients">
                  <input type="checkbox" id="select-all-patients" aria-label="Select all patients">
                </th>
                <th role="columnheader" aria-sort="none">
                  <i class="fas fa-id-card" aria-hidden="true"></i> Patient ID
                </th>
                <th role="columnheader" aria-sort="none">
                  <i class="fas fa-user" aria-hidden="true"></i> Name
                </th>
                <th role="columnheader" aria-sort="none">
                  <i class="fas fa-phone" aria-hidden="true"></i> Phone
                </th>
                <th role="columnheader" aria-sort="none">
                  <i class="fas fa-envelope" aria-hidden="true"></i> Email
                </th>
                <th role="columnheader" aria-sort="none">
                  <i class="fas fa-shield-alt" aria-hidden="true"></i> Insurance
                </th>
                <th role="columnheader" aria-sort="none">
                  <i class="fas fa-smoking" aria-hidden="true"></i> Smoking
                </th>
                <th role="columnheader" aria-label="Actions">
                  <i class="fas fa-cogs" aria-hidden="true"></i> Actions
                </th>
              </tr>
            </thead>
              <tbody id="patients-tbody" role="rowgroup">
              </tbody>
            </table>
          </div>
        </div>

        <!-- Appointments Screen -->
        <div id="appointments-screen" class="content-screen">
          <div class="screen-header">
            <h2><i class="fas fa-calendar-alt"></i> Appointment Management</h2>
            <div class="screen-actions">
              <button id="add-appointment-btn" class="btn btn-primary">
                  <i class="fas fa-calendar-plus"></i> Schedule Appointment
                </button>
              <button id="workflow-automation-btn" class="btn btn-secondary">
                <i class="fas fa-cogs"></i> Workflow Automation
              </button>
            </div>
          </div>

          <!-- Workflow Automation Panel -->
          <div id="workflow-panel" class="workflow-panel" style="display: none;">
            <div class="workflow-cards">
              <div class="workflow-card">
                <div class="workflow-header">
                  <h4 class="workflow-title">Patient Follow-up Automation</h4>
                  <span class="workflow-status active">Active</span>
                </div>
                <p>Automatically schedule follow-up appointments based on treatment completion.</p>
                <div class="workflow-progress">
                  <div class="progress-bar">
                    <div class="progress-fill" style="width: 75%;"></div>
                  </div>
                </div>
                <div class="workflow-actions">
                  <button class="btn btn-secondary">Configure</button>
                  <button class="btn btn-primary">View Rules</button>
                </div>
              </div>

              <div class="workflow-card">
                <div class="workflow-header">
                  <h4 class="workflow-title">Insurance Verification</h4>
                  <span class="workflow-status pending">Pending Setup</span>
                </div>
                <p>Automatically verify patient insurance before appointments.</p>
                <div class="workflow-progress">
                  <div class="progress-bar">
                    <div class="progress-fill" style="width: 25%;"></div>
                  </div>
                </div>
                <div class="workflow-actions">
                  <button class="btn btn-primary">Set Up</button>
                  <button class="btn btn-secondary">Learn More</button>
                </div>
              </div>

              <div class="workflow-card">
                <div class="workflow-header">
                  <h4 class="workflow-title">Appointment Reminders</h4>
                  <span class="workflow-status completed">Completed</span>
                </div>
                <p>Send automated SMS/email reminders 24 hours before appointments.</p>
                <div class="workflow-progress">
                  <div class="progress-bar">
                    <div class="progress-fill" style="width: 100%;"></div>
                  </div>
                </div>
                <div class="workflow-actions">
                  <button class="btn btn-secondary">Edit Settings</button>
                  <button class="btn btn-primary">View Logs</button>
                </div>
              </div>
            </div>
          </div>
          <div class="filters">
            <div class="filter-group">
              <i class="fas fa-filter"></i>
              <select id="appointment-status-filter">
                <option value="">All Status</option>
                <option value="scheduled">Scheduled</option>
                <option value="completed">Completed</option>
                <option value="cancelled">Cancelled</option>
                <option value="no-show">No Show</option>
              </select>
            </div>
          </div>
          <div class="data-table">
            <table id="appointments-table">
              <thead>
                <tr>
                  <th><i class="fas fa-clock"></i> Date & Time</th>
                  <th><i class="fas fa-user"></i> Patient</th>
                  <th><i class="fas fa-user-md"></i> Doctor</th>
                  <th><i class="fas fa-stethoscope"></i> Type</th>
                  <th><i class="fas fa-info-circle"></i> Status</th>
                  <th><i class="fas fa-cogs"></i> Actions</th>
                </tr>
              </thead>
              <tbody id="appointments-tbody">
              </tbody>
            </table>
          </div>
        </div>

        <!-- Accounting Screen -->
        <div id="accounting-screen" class="content-screen">
          <div class="screen-header">
            <h2><i class="fas fa-dollar-sign"></i> Accounting & Billing</h2>
            <div class="screen-actions">
              <button id="add-invoice-btn" class="btn btn-primary">
                <i class="fas fa-file-invoice-dollar"></i> Create Invoice
              </button>
              <button id="add-expense-btn" class="btn btn-secondary">
                <i class="fas fa-money-bill-wave"></i> Add Expense
              </button>
              <button id="add-billing-code-btn" class="btn btn-secondary">
                <i class="fas fa-plus-circle"></i> Add Billing Code
              </button>
            </div>
          </div>
          <div class="accounting-tabs">
            <button class="tab-btn active" data-tab="invoices">
              <i class="fas fa-file-invoice-dollar"></i> Invoices
            </button>
            <button class="tab-btn" data-tab="billing-codes">
              <i class="fas fa-list-alt"></i> Billing Codes
            </button>
            <button class="tab-btn" data-tab="payments">
              <i class="fas fa-credit-card"></i> Payments
            </button>
            <button class="tab-btn" data-tab="expenses">
              <i class="fas fa-money-bill-wave"></i> Expenses
            </button>
            <button class="tab-btn" data-tab="reports">
              <i class="fas fa-chart-bar"></i> Reports
            </button>
          </div>
          <div id="invoices-tab" class="tab-content active">
            <div class="screen-actions">
              <button id="clear-invoices-btn" class="btn btn-danger">
                <i class="fas fa-trash"></i> Clear All Invoices
              </button>
            </div>
            <div class="data-table">
              <table id="invoices-table">
                <thead>
                  <tr>
                    <th><i class="fas fa-hashtag"></i> Invoice #</th>
                    <th><i class="fas fa-user"></i> Patient</th>
                    <th><i class="fas fa-dollar-sign"></i> Amount</th>
                    <th><i class="fas fa-info-circle"></i> Status</th>
                    <th><i class="fas fa-calendar-alt"></i> Due Date</th>
                    <th><i class="fas fa-cogs"></i> Actions</th>
                  </tr>
                </thead>
                <tbody id="invoices-tbody">
                </tbody>
              </table>
            </div>
          </div>
          <div id="billing-codes-tab" class="tab-content">
            <div class="data-table">
              <table id="billing-codes-table">
                <thead>
                  <tr>
                    <th><i class="fas fa-tag"></i> Code</th>
                    <th><i class="fas fa-file-alt"></i> Description</th>
                    <th><i class="fas fa-folder"></i> Category</th>
                    <th><i class="fas fa-dollar-sign"></i> Price</th>
                    <th><i class="fas fa-toggle-on"></i> Active</th>
                    <th><i class="fas fa-cogs"></i> Actions</th>
                  </tr>
                </thead>
                <tbody id="billing-codes-tbody">
                </tbody>
              </table>
            </div>
          </div>
          <div id="payments-tab" class="tab-content">
            <div class="screen-actions">
              <button id="record-payment-btn" class="btn btn-primary">
                <i class="fas fa-plus-circle"></i> Record Payment
              </button>
            </div>
            <div class="data-table">
              <table id="payments-table">
                <thead>
                  <tr>
                    <th><i class="fas fa-calendar"></i> Date</th>
                    <th><i class="fas fa-hashtag"></i> Invoice #</th>
                    <th><i class="fas fa-user"></i> Patient</th>
                    <th><i class="fas fa-dollar-sign"></i> Amount</th>
                    <th><i class="fas fa-credit-card"></i> Method</th>
                    <th><i class="fas fa-receipt"></i> Reference</th>
                  </tr>
                </thead>
                <tbody id="payments-tbody">
                </tbody>
              </table>
            </div>
          </div>
          <div id="expenses-tab" class="tab-content">
            <div class="data-table">
              <table id="expenses-table">
                <thead>
                  <tr>
                    <th><i class="fas fa-file-alt"></i> Description</th>
                    <th><i class="fas fa-tag"></i> Category</th>
                    <th><i class="fas fa-dollar-sign"></i> Amount</th>
                    <th><i class="fas fa-calendar"></i> Date</th>
                    <th><i class="fas fa-cogs"></i> Actions</th>
                  </tr>
                </thead>
                <tbody id="expenses-tbody">
                </tbody>
              </table>
            </div>
          </div>
          <div id="reports-tab" class="tab-content">
            <div class="report-summary">
              <div class="summary-grid">
                <div class="summary-card">
                  <h4>Total Revenue</h4>
                  <div class="summary-value" id="total-revenue">$0</div>
                </div>
                <div class="summary-card">
                  <h4>Total Expenses</h4>
                  <div class="summary-value" id="total-expenses">$0</div>
                </div>
                <div class="summary-card">
                  <h4>Net Profit</h4>
                  <div class="summary-value" id="net-profit">$0</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Admin Screen -->
        <div id="admin-screen" class="content-screen">
          <div class="screen-header">
            <h2><i class="fas fa-cog"></i> Administration</h2>
          </div>
          <div class="admin-tabs">
            <button class="tab-btn active" data-tab="users">
              <i class="fas fa-users-cog"></i> User Management
            </button>
            <button class="tab-btn" data-tab="audit">
              <i class="fas fa-history"></i> Audit Log
            </button>
            <button class="tab-btn" data-tab="backup">
              <i class="fas fa-database"></i> Backup & Restore
            </button>
            <button class="tab-btn" data-tab="sync">
              <i class="fas fa-cloud"></i> Sync Settings
            </button>
          </div>
          <div id="users-tab" class="tab-content active">
            <div class="screen-actions">
              <button id="add-user-btn" class="btn btn-primary">
                <i class="fas fa-user-plus"></i> Add User
              </button>
            </div>
            <div class="data-table">
              <table id="users-table">
                <thead>
                  <tr>
                    <th><i class="fas fa-user"></i> Username</th>
                    <th><i class="fas fa-id-badge"></i> Name</th>
                    <th><i class="fas fa-shield-alt"></i> Role</th>
                    <th><i class="fas fa-envelope"></i> Email</th>
                    <th><i class="fas fa-cogs"></i> Actions</th>
                  </tr>
                </thead>
                <tbody id="users-tbody">
                </tbody>
              </table>
            </div>
          </div>
          <div id="audit-tab" class="tab-content">
            <div class="data-table">
              <table id="audit-table">
                <thead>
                  <tr>
                    <th><i class="fas fa-clock"></i> Timestamp</th>
                    <th><i class="fas fa-user"></i> User</th>
                    <th><i class="fas fa-bolt"></i> Action</th>
                    <th><i class="fas fa-table"></i> Table</th>
                    <th><i class="fas fa-info"></i> Details</th>
                  </tr>
                </thead>
                <tbody id="audit-tbody">
                </tbody>
              </table>
            </div>
          </div>
          <div id="backup-tab" class="tab-content">
            <div class="backup-controls">
              <button id="backup-btn" class="btn btn-primary">
                <i class="fas fa-database"></i> Create Backup
              </button>
              <button id="restore-btn" class="btn btn-secondary">
                <i class="fas fa-upload"></i> Restore from Backup
              </button>
            </div>
            <div id="backup-status" class="backup-status">
              <i class="fas fa-info-circle"></i>
              <span>Regular backups ensure your data is safe. Last backup: Never</span>
            </div>
          </div>
          <div id="sync-tab" class="tab-content">
            <div class="sync-info">
              <h3>Cloud Database Sync Settings</h3>
              <p>Configure credentials for syncing your local database with a cloud database. This enables offline-first functionality with automatic synchronization when online.</p>
              <div class="sync-status">
                <i class="fas fa-info-circle"></i>
                <span id="sync-status-text">Sync not configured. Set up credentials below to enable cloud synchronization.</span>
              </div>
            </div>
            <form id="sync-form">
              <div class="form-row">
                <div class="form-group">
                  <label for="db-host">Database Host:</label>
                  <input type="text" id="db-host" placeholder="your-postgres-host.com" required>
                </div>
                <div class="form-group">
                  <label for="db-port">Port:</label>
                  <input type="number" id="db-port" value="5432" min="1" max="65535" required>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="db-name">Database Name:</label>
                  <input type="text" id="db-name" placeholder="clinic_db" required>
                </div>
                <div class="form-group">
                  <label for="db-user">Username:</label>
                  <input type="text" id="db-user" required>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="db-password">Password:</label>
                  <input type="password" id="db-password" required>
                </div>
                <div class="form-group">
                  <label for="ssl-enabled">
                    <input type="checkbox" id="ssl-enabled" checked> Enable SSL
                  </label>
                </div>
              </div>
              <div class="form-actions">
                <button type="button" id="test-connection" class="btn btn-secondary">
                  <i class="fas fa-plug"></i> Test Connection
                </button>
                <button type="submit" class="btn btn-primary">
                  <i class="fas fa-save"></i> Save Settings
                </button>
              </div>
            </form>
          </div>
        </div>
        </main>
      </div>
    </div>

    <!-- Modals -->
    <div id="patient-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="patient-modal-title">Add Patient</h3>
          <span class="modal-close">&times;</span>
        </div>
         <!-- Patient form with tabbed sections for comprehensive data -->
         <div class="patient-form-tabs">
           <button class="form-tab-btn active" data-tab="basic">Basic Info</button>
           <button class="form-tab-btn" data-tab="insurance">Insurance</button>
           <button class="form-tab-btn" data-tab="demographics">Demographics</button>
           <button class="form-tab-btn" data-tab="lifestyle">Lifestyle</button>
           <button class="form-tab-btn" data-tab="medical">Medical</button>
           <button class="form-tab-btn" data-tab="advanced">Advanced</button>
         </div>

         <form id="patient-form">
           <!-- Basic Information Tab -->
           <div id="basic-tab" class="form-tab-content active">
             <div class="form-row">
               <div class="form-group">
                 <label for="patient-first-name">First Name *</label>
                 <input type="text" id="patient-first-name" name="first-name" required>
               </div>
               <div class="form-group">
                 <label for="patient-last-name">Last Name *</label>
                 <input type="text" id="patient-last-name" name="last-name" required>
               </div>
             </div>
             <div class="form-row">
               <div class="form-group">
                 <label for="patient-dob">Date of Birth</label>
                 <input type="date" id="patient-dob" name="dob">
               </div>
               <div class="form-group">
                 <label for="patient-gender">Gender</label>
                 <select id="patient-gender" name="gender">
                   <option value="">Select Gender</option>
                   <option value="Male">Male</option>
                   <option value="Female">Female</option>
                   <option value="Other">Other</option>
                 </select>
               </div>
             </div>
             <div class="form-row">
               <div class="form-group">
                 <label for="patient-phone">Phone</label>
                 <input type="tel" id="patient-phone" name="phone">
               </div>
               <div class="form-group">
                 <label for="patient-email">Email</label>
                 <input type="email" id="patient-email" name="email">
               </div>
             </div>
             <div class="form-group">
               <label for="patient-address">Address</label>
               <textarea id="patient-address" name="address" rows="3"></textarea>
             </div>
             <div class="form-row">
               <div class="form-group">
                 <label for="emergency-contact-name">Emergency Contact Name</label>
                 <input type="text" id="emergency-contact-name" name="emergency-contact-name">
               </div>
               <div class="form-group">
                 <label for="emergency-contact-phone">Emergency Contact Phone</label>
                 <input type="tel" id="emergency-contact-phone" name="emergency-contact-phone">
               </div>
             </div>
           </div>

           <!-- Insurance Tab -->
           <div id="insurance-tab" class="form-tab-content">
             <div class="form-row">
               <div class="form-group">
                 <label for="insurance-provider">Insurance Provider</label>
                 <input type="text" id="insurance-provider" name="insurance-provider">
               </div>
               <div class="form-group">
                 <label for="insurance-policy-number">Policy Number</label>
                 <input type="text" id="insurance-policy-number" name="insurance-policy-number">
               </div>
             </div>
             <div class="form-row">
               <div class="form-group">
                 <label for="insurance-group-id">Group ID</label>
                 <input type="text" id="insurance-group-id" name="insurance-group-id">
               </div>
               <div class="form-group">
                 <label for="insurance-subscriber-id">Subscriber ID</label>
                 <input type="text" id="insurance-subscriber-id" name="insurance-subscriber-id">
               </div>
             </div>
             <div class="form-row">
               <div class="form-group">
                 <label for="primary-care-physician">Primary Care Physician</label>
                 <input type="text" id="primary-care-physician" name="primary-care-physician">
               </div>
               <div class="form-group">
                 <label for="preferred-pharmacy">Preferred Pharmacy</label>
                 <input type="text" id="preferred-pharmacy" name="preferred-pharmacy">
               </div>
             </div>
             <div class="form-group">
               <label for="billing-address">Billing Address (if different)</label>
               <textarea id="billing-address" name="billing-address" rows="3"></textarea>
             </div>
           </div>

           <!-- Demographics Tab -->
           <div id="demographics-tab" class="form-tab-content">
             <div class="form-row">
               <div class="form-group">
                 <label for="marital-status">Marital Status</label>
                 <select id="marital-status" name="marital-status">
                   <option value="">Select Status</option>
                   <option value="Single">Single</option>
                   <option value="Married">Married</option>
                   <option value="Divorced">Divorced</option>
                   <option value="Widowed">Widowed</option>
                   <option value="Other">Other</option>
                 </select>
               </div>
               <div class="form-group">
                 <label for="occupation">Occupation</label>
                 <input type="text" id="occupation" name="occupation">
               </div>
             </div>
             <div class="form-row">
               <div class="form-group">
                 <label for="employer">Employer</label>
                 <input type="text" id="employer" name="employer">
               </div>
               <div class="form-group">
                 <label for="education-level">Education Level</label>
                 <select id="education-level" name="education-level">
                   <option value="">Select Level</option>
                   <option value="High School">High School</option>
                   <option value="Associate Degree">Associate Degree</option>
                   <option value="Bachelor Degree">Bachelor Degree</option>
                   <option value="Master Degree">Master Degree</option>
                   <option value="Doctorate">Doctorate</option>
                   <option value="Other">Other</option>
                 </select>
               </div>
             </div>
             <div class="form-row">
               <div class="form-group">
                 <label for="language-preferences">Language Preferences</label>
                 <input type="text" id="language-preferences" name="language-preferences">
               </div>
               <div class="form-group">
                 <label for="interpreter-needed">
                   <input type="checkbox" id="interpreter-needed" name="interpreter-needed"> Interpreter Needed
                 </label>
               </div>
             </div>
             <div class="form-row">
               <div class="form-group">
                 <label for="race-ethnicity">Race/Ethnicity</label>
                 <input type="text" id="race-ethnicity" name="race-ethnicity">
               </div>
               <div class="form-group">
                 <label for="religion">Religion</label>
                 <input type="text" id="religion" name="religion">
               </div>
             </div>
           </div>

           <!-- Lifestyle Tab -->
           <div id="lifestyle-tab" class="form-tab-content">
             <div class="form-row">
               <div class="form-group">
                 <label for="smoking-status">Smoking Status</label>
                 <select id="smoking-status" name="smoking-status">
                   <option value="">Select Status</option>
                   <option value="Never">Never</option>
                   <option value="Former">Former</option>
                   <option value="Current">Current</option>
                 </select>
               </div>
               <div class="form-group">
                 <label for="alcohol-consumption">Alcohol Consumption</label>
                 <textarea id="alcohol-consumption" name="alcohol-consumption" rows="2"></textarea>
               </div>
             </div>
             <div class="form-row">
               <div class="form-group">
                 <label for="exercise-habits">Exercise Habits</label>
                 <textarea id="exercise-habits" name="exercise-habits" rows="2"></textarea>
               </div>
               <div class="form-group">
                 <label for="diet-nutrition">Diet & Nutrition</label>
                 <textarea id="diet-nutrition" name="diet-nutrition" rows="2"></textarea>
               </div>
             </div>
             <div class="form-row">
               <div class="form-group">
                 <label for="sleep-patterns">Sleep Patterns</label>
                 <textarea id="sleep-patterns" name="sleep-patterns" rows="2"></textarea>
               </div>
               <div class="form-group">
                 <label for="stress-levels">Stress Levels</label>
                 <textarea id="stress-levels" name="stress-levels" rows="2"></textarea>
               </div>
             </div>
           </div>

           <!-- Medical Tab -->
           <div id="medical-tab" class="form-tab-content">
             <div class="form-group">
               <label for="medical-history">Medical History</label>
               <textarea id="medical-history" name="medical-history" rows="4"></textarea>
             </div>
             <div class="form-group">
               <label for="allergies">Allergies</label>
               <textarea id="allergies" name="allergies" rows="3"></textarea>
             </div>
             <div class="form-group">
               <label for="current-medications">Current Medications</label>
               <textarea id="current-medications" name="current-medications" rows="3"></textarea>
             </div>
             <div class="form-group">
               <label for="family-medical-history">Family Medical History</label>
               <textarea id="family-medical-history" name="family-medical-history" rows="4"></textarea>
             </div>
             <div class="form-group">
               <label for="chronic-conditions">Chronic Conditions</label>
               <textarea id="chronic-conditions" name="chronic-conditions" rows="3"></textarea>
             </div>
             <div class="form-group">
               <label for="immunization-history">Immunization History</label>
               <textarea id="immunization-history" name="immunization-history" rows="3"></textarea>
             </div>
           </div>

           <!-- Advanced Tab -->
           <div id="advanced-tab" class="form-tab-content">
             <div class="form-group">
               <label for="preferred-contact-method">Preferred Contact Method</label>
               <select id="preferred-contact-method" name="preferred-contact-method">
                 <option value="">Select Method</option>
                 <option value="Phone">Phone</option>
                 <option value="Email">Email</option>
                 <option value="Text">Text</option>
                 <option value="Mail">Mail</option>
               </select>
             </div>
             <div class="form-group">
               <label for="advance-directives">Advance Directives</label>
               <textarea id="advance-directives" name="advance-directives" rows="3"></textarea>
             </div>
             <div class="form-group">
               <label for="patient-notes">Additional Notes</label>
               <textarea id="patient-notes" name="notes" rows="3"></textarea>
             </div>
           </div>

           <div class="form-actions">
             <button type="button" class="btn btn-secondary" onclick="window.closeModal('patient-modal')">Cancel</button>
             <button type="submit" class="btn btn-primary">Save Patient</button>
           </div>
         </form>
      </div>
    </div>

    <!-- Skip to main content link for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <script src="./renderer.js"></script>
  </body>
</html>
